{"mappings":"AAAA,MAAMA,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACzBC,EAAIC,aAAaC,QAAQ,KACzBC,QAAUC,KAAKC,MAAML,GACrBM,QAAUH,SAAW,CACvB,CAACI,KAAM,IAAKC,IAAK,wBACjB,CAACD,KAAM,IAAKC,IAAK,6BAGfC,YAAeD,GACVA,EAAIE,QAAQ,WAAY,IAC1BA,QAAQ,UAAW,IACnBA,QAAQ,OAAQ,IAChBA,QAAO,OAAS,IAGnBC,OAAM,KACRf,UAAUG,KAAK,iBAAiBa,SAChCN,QAAQO,SAAO,CAAEC,EAAKC,KAClB,MAAMC,EAAMnB,EAAC,qEAEWiB,EAAKP,6CACLE,YAAYK,EAAKN,gNAOnCS,aAAanB,SACnBkB,EAAIE,GAAG,SAAO,KACVC,OAAOC,KAAKN,EAAKN,QAErBQ,EAAIE,GAAG,QAAS,UAAWG,IACvBA,EAAEC,kBACMhB,QAAAiB,OAAOR,EAAM,GACrBJ,gBAKZA,SAEAd,EAAE,cAAc2B,OAAM,WAClB,IAAIhB,EAAMW,OAAOM,OAAO,iBACI,IAAxBjB,EAAIkB,QAAQ,UACZlB,EAAM,WAAaA,GAEvBmB,QAAQC,IAAIpB,GACZF,QAAQuB,KAAK,CACTtB,KAAME,YAAYD,GAAK,GACvBA,IAAKA,IAETG,YAGJQ,OAAOW,eAAc,KACjBH,QAAQC,IAAI,UACA,MAANG,EAAS3B,KAAK4B,UAAU1B,SAC9Ba,OAAOlB,aAAagC,QAAQ,IAAKF,IAGrClC,EAAEqC,UAAUhB,GAAG,YAAYG,IACvB,MAAMc,IAACA,GAAOd,EACd,IAAI,IAAIe,EAAI,EAAGA,EAAI9B,QAAQ+B,OAAQD,IAC3B9B,QAAQ8B,GAAG7B,KAAK+B,gBAAkBH,GAClChB,OAAOC,KAAKd,QAAQ8B,GAAG5B","sources":["src/main.js"],"sourcesContent":["const $siteList = $('.siteList');\nconst $lastLi = $siteList.find('li.last');\nconst x = localStorage.getItem('x');\nconst xObject = JSON.parse(x) //把字符串变成对象\nconst hashMap = xObject || [\n    {logo: 'A', url: 'https://www.acfun.cn'},\n    {logo: 'B', url: 'https://www.bilibili.com'},\n];\n\nconst simplifyUrl = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '')  // 删除/开头的内容\n}\n\nconst render = () => {\n    $siteList.find('li:not(.last)').remove()\n    hashMap.forEach((node,index) => {\n        const $li = $(`<li>\n          <div class=\"site\">\n            <div class=\"logo\">${node.logo}</div>\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\n            <div class=\"close\">\n              <svg class=\"icon\">\n                <use xlink:href=\"#icon-close\"></use>\n              </svg>\n            </div>\n          </div>\n      </li>`).insertBefore($lastLi);\n        $li.on('click',() => {\n            window.open(node.url)\n        })\n        $li.on('click', '.close', (e) => {\n            e.stopPropagation()  //阻止冒泡\n            hashMap.splice(index,1)\n            render()\n        })\n    });\n};\n\nrender()\n\n$('.addButton').click(function () {\n    let url = window.prompt(\"请问你要添加的网站是什么？\")\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    console.log(url);\n    hashMap.push({\n        logo: simplifyUrl(url)[0],\n        url: url\n    });\n    render()\n});\n\nwindow.onbeforeunload = () => {\n    console.log('页面要关闭了')\n    const string = JSON.stringify(hashMap)  //把对象变成字符串\n    window.localStorage.setItem('x', string)\n};\n\n$(document).on('keypress',(e) => {\n    const {key} = e\n    for(let i = 0; i < hashMap.length; i++) {\n        if (hashMap[i].logo.toLowerCase() === key) {\n            window.open(hashMap[i].url)\n        }\n    }\n})\n\n\n"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","click","prompt","indexOf","console","log","push","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"version":3,"file":"index.a80e820d.js.map"}